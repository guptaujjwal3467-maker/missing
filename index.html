<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thinking of You ‚ù§Ô∏è</title>
    <!-- Favicon link -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <!-- Custom CSS for styling -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');

        /* Global body styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000; /* Dark background */
            color: #ffffff; /* White text for contrast */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 2rem;
            box-sizing: border-box;
            text-align: center;
            overflow: hidden; /* Prevent scrollbar from animation */
        }
        
        /* New class for the body when the memories page is active */
        body.memories-page-active {
            overflow-y: auto; /* Allow vertical scrolling */
            align-items: flex-start; /* Align content to the top */
        }

        /* Main container for all content */
        .container {
            max-width: 40rem;
            margin: auto;
            padding: 2rem;
            background-color: transparent;
        }

        /* Styling for all sections that transition */
        .transition-section {
            opacity: 0;
            transition: opacity 1s ease-in-out;
            position: absolute; /* Position over the previous section */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            max-width: 40rem;
            display: none;
        }
        
        .transition-section.visible {
            opacity: 1;
            display: block;
        }
        
        /* Fade-in animation for elements within sections */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Styling for the panda section */
        #panda-section {
            opacity: 1;
        }
        
        .panda-graphic {
            font-size: 8rem; /* Large emoji size */
            margin-bottom: 1rem;
            transition: transform 0.3s ease-in-out;
            animation: fadeIn 1s ease-in-out;
        }

        .panda-graphic:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .main-title {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(to right, #ff6b81, #ff007f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
            animation: fadeIn 1s ease-in-out 0.5s backwards;
        }

        .subtitle {
            font-size: 1.5rem;
            color: #cccccc;
            margin-bottom: 2rem;
            animation: fadeIn 1s ease-in-out 1s backwards;
        }

        /* Styling for the new cat section */
        #cat-section {
            display: none; /* Initially hidden */
        }
        
        .cat-graphic {
            font-size: 8rem;
            margin-bottom: 1rem;
        }
        
        .cat-text {
            font-size: 1.5rem;
            color: #cccccc;
            margin-bottom: 1rem;
        }
        
        .counting-number {
            font-size: 4rem;
            font-weight: 700;
            color: #ff6b81;
            margin-bottom: 1rem;
            background: linear-gradient(to right, #ff6b81, #ff007f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Final message section styling */
        #final-message-section {
            display: none;
        }
        
        .final-message-content {
            font-size: 1.5rem;
            color: #ff6b81;
            font-style: italic;
            line-height: 1.8;
            animation: fadeIn 2s ease-in-out;
        }

        .action-button {
            background: linear-gradient(to right, #ff6b81, #ff007f);
            color: #fff;
            font-weight: 700;
            padding: 0.75rem 2rem;
            border-radius: 9999px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease-in-out;
            cursor: pointer;
            border: none;
            margin-top: 2rem;
        }

        .action-button:hover {
            transform: scale(1.1);
            background: linear-gradient(to right, #d1006e, #ff6b81);
        }
        
        /* Our Memories page styling */
        #memories-page {
            /* Remove absolute positioning and centering for a scrollable layout */
            position: static;
            transform: none;
            top: auto;
            left: auto;
            padding-top: 2rem;
            padding-bottom: 2rem;
            width: 100%;
            max-width: 40rem;
        }

        .memories-page-content {
            padding: 1rem;
        }

        .bear-graphic {
            font-size: 6rem;
            margin-bottom: 1rem;
            animation: fadeIn 1s ease-in-out;
        }

        .memories-title {
            font-size: 1.5rem;
            color: #cccccc;
            margin-bottom: 1rem;
        }

        .main-memory-image {
            width: 100%;
            max-width: 300px;
            height: auto;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
            border: 3px solid #ff6b81;
        }

        .horizontal-scroll-container {
            display: flex;
            overflow-x: scroll;
            gap: 1rem;
            padding-bottom: 1rem;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; /* Firefox */
            margin-bottom: 2rem;
        }
        
        .horizontal-scroll-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari */
        }

        .scrolling-image {
            width: 180px;
            height: 180px;
            object-fit: contain;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease-in-out;
            border: 2px solid #ff6b81;
        }

        .scrolling-image:hover {
            transform: scale(1.1);
        }

        /* Styling for the final page */
        .final-graphic {
            font-size: 8rem;
            margin-bottom: 1rem;
            animation: fadeIn 1s ease-in-out;
        }

        /* Styling for the new restart link */
        .restart-link {
            position: fixed;
            top: 1.5rem;
            left: 1.5rem;
            color: #ff6b81;
            cursor: pointer;
            z-index: 100;
            display: none; /* Hidden by default */
            opacity: 0;
            transition: opacity 1s ease-in-out, color 0.3s;
            text-decoration: none;
        }

        .restart-link:hover {
            color: #d1006e;
        }
    </style>
</head>
<body>
    <!-- New Restart Link -->
    <a id="restart-link" class="restart-link">Thinking of You</a>

    <!-- Page 1: Panda transition -->
    <div id="panda-section" class="transition-section visible">
        <span class="panda-graphic">üêº</span>
        <h1 class="main-title">Hey Beautiful</h1>
        <p class="subtitle">Do you even know how much I miss you?</p>
    </div>

    <!-- Page 2: Counting screen -->
    <div id="cat-section" class="transition-section">
        <span class="cat-graphic">ü•∫</span>
        <p class="cat-text">I miss you...</p>
        <p class="counting-number">
            <span id="number-counter">0</span>
        </p>
        <p class="cat-text">times every moment</p>
    </div>

    <!-- Page 3: Final message and button -->
    <div id="final-message-section" class="transition-section">
        <p class="final-message-content">
            My heart beats for you....<br>
            Every second apart feels like an eternity.<br>
            I miss you more than words can say.
        </p>
        <button id="memories-btn" class="action-button">
            Our Memories üì∑
        </button>
    </div>

    <!-- Page 4: The new memories page -->
    <div id="memories-page" class="transition-section">
        <div class="memories-page-content">
            <button id="back-to-message-btn" class="action-button" style="position: absolute; top: 1rem; left: 1rem; font-size: 0.8rem; padding: 0.5rem 1rem;">Back</button>
            <span class="bear-graphic">üêª‚ù§Ô∏èüêª</span>
            <p class="memories-title">These memories... they make me miss you even more ‚ù§Ô∏è</p>
            <img id="main-memory-img" src="8.jpeg" alt="Main Memory Photo" class="main-memory-image">
            
            <p style="color: #cccccc; font-style: italic; margin-top: -1rem; margin-bottom: 2rem;">
                Though we have only met once, our hearts were always meant for each otherüíï.
            </p>

            <div id="scrolling-photos" class="horizontal-scroll-container">
                <!-- Placeholder images for the scrolling gallery -->
                <img src="20.png" class="scrolling-image">
                <img src="2.jpeg" class="scrolling-image">
                <img src="4.jpeg" class="scrolling-image">
                <img src="3.jpeg" class="scrolling-image">
                <img src="6.jpeg" class="scrolling-image">
                <img src="11.jpeg" class="scrolling-image">
                <img src="9.jpeg" class="scrolling-image">
                <img src="10.jpeg" class="scrolling-image">
            </div>
            
            <button id="one-last-thing-btn" class="action-button">
                One Last Thingüòò
            </button>
        </div>
    </div>
    
    <!-- Page 5: The NEW final page -->
    <div id="one-last-thing-section" class="transition-section">
        <!-- Audio element for background music -->
        <audio id="last-page-music" loop>
            <source src="https://cdn.pixabay.com/download/audio/2022/02/14/audio_20d8B102d3.mp3?filename=inspiring-cinematic-ambient-116199.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <span class="final-graphic">ü•∞</span>
        <p class="final-message-content" style="font-size: 1.2rem;">
            That I love you more than anything! ‚ù§Ô∏è<br>
            Forever and always.<br>
            You mean so much to me, so don't ever think I'm gonna give up on you. Not today, not tomorrow, not ever.<br>
            I love you Baccha‚ù§Ô∏èüòò
        </p>
    </div>

    <script>
        // Get references to all the elements
        const pandaSection = document.getElementById('panda-section');
        const catSection = document.getElementById('cat-section');
        const numberCounter = document.getElementById('number-counter');
        const finalMessageSection = document.getElementById('final-message-section');
        const memoriesButton = document.getElementById('memories-btn');
        const memoriesPage = document.getElementById('memories-page');
        const backToMessageButton = document.getElementById('back-to-message-btn');
        const oneLastThingButton = document.getElementById('one-last-thing-btn');
        const oneLastThingSection = document.getElementById('one-last-thing-section');
        const restartLink = document.getElementById('restart-link');
        const lastPageMusic = document.getElementById('last-page-music');

        // Function to animate the number counter
        function animateToInfinity(duration) {
            let start = 0;
            let end = 99999;
            let increment = Math.ceil(end / (duration / 10)); 
            
            let current = start;
            const timer = setInterval(() => {
                current += increment;
                if (current >= end) {
                    current = end;
                    clearInterval(timer);
                    numberCounter.textContent = '‚àû';
                } else {
                    numberCounter.textContent = current.toLocaleString();
                }
            }, 10);
        }

        // Handles the page transitions
        function showPage(pageToShow) {
            const allPages = [pandaSection, catSection, finalMessageSection, memoriesPage, oneLastThingSection];
            
            // Add or remove the scrolling class from the body
            if (pageToShow === memoriesPage) {
                document.body.classList.add('memories-page-active');
            } else {
                document.body.classList.remove('memories-page-active');
            }

            // Show restart link and play music on the final page
            if (pageToShow === oneLastThingSection) {
                restartLink.style.display = 'block';
                setTimeout(() => restartLink.style.opacity = '1', 50);
                lastPageMusic.currentTime = 0; // Rewind to start
                lastPageMusic.play().catch(error => {
                    console.log("Music autoplay was prevented by the browser.");
                });
            } else {
                restartLink.style.opacity = '0';
                setTimeout(() => {
                    if (restartLink.style.opacity === '0') {
                        restartLink.style.display = 'none';
                    }
                }, 1000);
                // Pause the music if we're not on the last page
                lastPageMusic.pause();
            }

            allPages.forEach(page => {
                if (page === pageToShow) {
                    page.style.display = 'block';
                    setTimeout(() => page.classList.add('visible'), 50);
                } else {
                    page.classList.remove('visible');
                    // Wait for the transition to finish before hiding
                    setTimeout(() => {
                        if (!page.classList.contains('visible')) {
                            page.style.display = 'none';
                        }
                    }, 1000);
                }
            });
        }
        

        // Automatic transition through the sections
        window.onload = () => {
            // First transition: Panda screen to Cat screen
            setTimeout(() => {
                showPage(catSection);
                setTimeout(() => {
                    animateToInfinity(3000);
                    // Second transition: Cat screen to final message
                    setTimeout(() => {
                        showPage(finalMessageSection);
                    }, 4000);
                }, 100);
            }, 3000);
        };
        
        // Handle the "Our Memories" button click
        memoriesButton.addEventListener('click', () => {
            showPage(memoriesPage);
        });
        
        // Handle the "Back" button click on the memories page
        backToMessageButton.addEventListener('click', () => {
            showPage(finalMessageSection);
        });

        // Handle the "One Last Thing" button click
        oneLastThingButton.addEventListener('click', () => {
            showPage(oneLastThingSection);
        });

        // Handle the restart link click
        restartLink.addEventListener('click', () => {
            location.reload();
        });
    </script>

</body>
</html>